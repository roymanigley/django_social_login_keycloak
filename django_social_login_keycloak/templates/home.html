{% extends '_base.html' %} {% load socialaccount %}

{% block content %}

<div class="container" style="text-align: center; padding-top: 10%;">
  <h1>Django Social Login</h1>

  <br /><br />

  {% if user.is_authenticated %}
    <h3>Welcome {{ user.username }} !!!</h3>
    <br /><br />
    <a href="{% url 'account_logout' %}" class="btn btn-danger">Logout</a>
  {% else %}
    <!-- KeyCloak button starts here -->
    <a href="{% provider_login_url 'openid_connect' %}" class="btn btn-secondary">
      <i class="fa fa-sign-in fa-fw"></i>
      <span>Login with KeyCloak</span>
    </a>
    <!-- KeyCloak button ends here -->
  {% endif %}
</div>

{% endblock content %}
